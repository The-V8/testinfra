py37 develop-inst-noop: /Users/daheinze/Source/GitHub/0_Contributions/testinfra
py37 installed: ansible==2.10.5,ansible-base==2.10.5,apache-libcloud==2.4.0,apipkg==1.5,attrs==20.3.0,bcrypt==3.2.0,certifi==2020.6.20,cffi==1.12.2,chardet==3.0.4,cheroot==8.3.0,CherryPy==17.4.1,contextlib2==0.6.0.post1,coverage==5.3.1,cryptography==3.2,distro==1.5.0,execnet==1.7.1,gitdb2==2.0.6,GitPython==2.1.15,idna==2.8,importlib-metadata==3.4.0,iniconfig==1.1.1,ipaddress==1.0.22,jaraco.functools==2.0,Jinja2==2.10.1,linode-python==1.1.1,Mako==1.0.7,MarkupSafe==1.1.1,mock==4.0.3,more-itertools==8.2.0,msgpack==1.0.0,ntlm-auth==1.5.0,packaging==20.8,paramiko==2.7.2,pluggy==0.13.1,portend==2.6,psutil==5.6.7,py==1.10.0,pyasn1==0.4.8,pycparser==2.19,pycryptodomex==3.9.8,PyNaCl==1.4.0,pyobjc==6.2.2,pyobjc-core==6.2.2,pyobjc-framework-Accounts==6.2.2,pyobjc-framework-AddressBook==6.2.2,pyobjc-framework-AdSupport==6.2.2,pyobjc-framework-AppleScriptKit==6.2.2,pyobjc-framework-AppleScriptObjC==6.2.2,pyobjc-framework-ApplicationServices==6.2.2,pyobjc-framework-AuthenticationServices==6.2.2,pyobjc-framework-AutomaticAssessmentConfiguration==6.2.2,pyobjc-framework-Automator==6.2.2,pyobjc-framework-AVFoundation==6.2.2,pyobjc-framework-AVKit==6.2.2,pyobjc-framework-BusinessChat==6.2.2,pyobjc-framework-CalendarStore==6.2.2,pyobjc-framework-CFNetwork==6.2.2,pyobjc-framework-CloudKit==6.2.2,pyobjc-framework-Cocoa==6.2.2,pyobjc-framework-Collaboration==6.2.2,pyobjc-framework-ColorSync==6.2.2,pyobjc-framework-Contacts==6.2.2,pyobjc-framework-ContactsUI==6.2.2,pyobjc-framework-CoreAudio==6.2.2,pyobjc-framework-CoreAudioKit==6.2.2,pyobjc-framework-CoreBluetooth==6.2.2,pyobjc-framework-CoreData==6.2.2,pyobjc-framework-CoreHaptics==6.2.2,pyobjc-framework-CoreLocation==6.2.2,pyobjc-framework-CoreMedia==6.2.2,pyobjc-framework-CoreMediaIO==6.2.2,pyobjc-framework-CoreML==6.2.2,pyobjc-framework-CoreMotion==6.2.2,pyobjc-framework-CoreServices==6.2.2,pyobjc-framework-CoreSpotlight==6.2.2,pyobjc-framework-CoreText==6.2.2,pyobjc-framework-CoreWLAN==6.2.2,pyobjc-framework-CryptoTokenKit==6.2.2,pyobjc-framework-DeviceCheck==6.2.2,pyobjc-framework-DictionaryServices==6.2.2,pyobjc-framework-DiscRecording==6.2.2,pyobjc-framework-DiscRecordingUI==6.2.2,pyobjc-framework-DiskArbitration==6.2.2,pyobjc-framework-DVDPlayback==6.2.2,pyobjc-framework-EventKit==6.2.2,pyobjc-framework-ExceptionHandling==6.2.2,pyobjc-framework-ExecutionPolicy==6.2.2,pyobjc-framework-ExternalAccessory==6.2.2,pyobjc-framework-FileProvider==6.2.2,pyobjc-framework-FileProviderUI==6.2.2,pyobjc-framework-FinderSync==6.2.2,pyobjc-framework-FSEvents==6.2.2,pyobjc-framework-GameCenter==6.2.2,pyobjc-framework-GameController==6.2.2,pyobjc-framework-GameKit==6.2.2,pyobjc-framework-GameplayKit==6.2.2,pyobjc-framework-ImageCaptureCore==6.2.2,pyobjc-framework-IMServicePlugIn==6.2.2,pyobjc-framework-InputMethodKit==6.2.2,pyobjc-framework-InstallerPlugins==6.2.2,pyobjc-framework-InstantMessage==6.2.2,pyobjc-framework-Intents==6.2.2,pyobjc-framework-IOSurface==6.2.2,pyobjc-framework-iTunesLibrary==6.2.2,pyobjc-framework-LatentSemanticMapping==6.2.2,pyobjc-framework-LaunchServices==6.2.2,pyobjc-framework-libdispatch==6.2.2,pyobjc-framework-LinkPresentation==6.2.2,pyobjc-framework-LocalAuthentication==6.2.2,pyobjc-framework-MapKit==6.2.2,pyobjc-framework-MediaAccessibility==6.2.2,pyobjc-framework-MediaLibrary==6.2.2,pyobjc-framework-MediaPlayer==6.2.2,pyobjc-framework-MediaToolbox==6.2.2,pyobjc-framework-Metal==6.2.2,pyobjc-framework-MetalKit==6.2.2,pyobjc-framework-ModelIO==6.2.2,pyobjc-framework-MultipeerConnectivity==6.2.2,pyobjc-framework-NaturalLanguage==6.2.2,pyobjc-framework-NetFS==6.2.2,pyobjc-framework-Network==6.2.2,pyobjc-framework-NetworkExtension==6.2.2,pyobjc-framework-NotificationCenter==6.2.2,pyobjc-framework-OpenDirectory==6.2.2,pyobjc-framework-OSAKit==6.2.2,pyobjc-framework-OSLog==6.2.2,pyobjc-framework-PencilKit==6.2.2,pyobjc-framework-Photos==6.2.2,pyobjc-framework-PhotosUI==6.2.2,pyobjc-framework-PreferencePanes==6.2.2,pyobjc-framework-PubSub==6.2.2,pyobjc-framework-PushKit==6.2.2,pyobjc-framework-QTKit==6.2.2,pyobjc-framework-Quartz==6.2.2,pyobjc-framework-QuickLookThumbnailing==6.2.2,pyobjc-framework-SafariServices==6.2.2,pyobjc-framework-SceneKit==6.2.2,pyobjc-framework-ScreenSaver==6.2.2,pyobjc-framework-ScriptingBridge==6.2.2,pyobjc-framework-SearchKit==6.2.2,pyobjc-framework-Security==6.2.2,pyobjc-framework-SecurityFoundation==6.2.2,pyobjc-framework-SecurityInterface==6.2.2,pyobjc-framework-ServiceManagement==6.2.2,pyobjc-framework-Social==6.2.2,pyobjc-framework-SoundAnalysis==6.2.2,pyobjc-framework-Speech==6.2.2,pyobjc-framework-SpriteKit==6.2.2,pyobjc-framework-StoreKit==6.2.2,pyobjc-framework-SyncServices==6.2.2,pyobjc-framework-SystemConfiguration==6.2.2,pyobjc-framework-SystemExtensions==6.2.2,pyobjc-framework-UserNotifications==6.2.2,pyobjc-framework-VideoSubscriberAccount==6.2.2,pyobjc-framework-VideoToolbox==6.2.2,pyobjc-framework-Vision==6.2.2,pyobjc-framework-WebKit==6.2.2,pyOpenSSL==19.0.0,pyparsing==2.4.7,pytest==6.2.1,pytest-cov==2.11.1,pytest-forked==1.3.0,-e git+git@github.com:The-V8/testinfra.git@e9a72dcedd72ac6dec638467d723c3f95330cf58#egg=pytest_testinfra,pytest-xdist==2.2.0,python-dateutil==2.8.0,python-gnupg==0.4.4,pytz==2020.1,pywinrm==0.4.1,PyYAML==5.3.1,pyzmq==18.0.1,requests==2.21.0,requests-ntlm==1.1.0,salt==3002.2,setproctitle==1.1.10,six==1.15.0,smmap==3.0.2,smmap2==3.0.1,tempora==1.14.1,testinfra==5.3.2.dev10+gcc84054,timelib==0.2.5,toml==0.10.2,tornado==4.5.3,typing-extensions==3.7.4.3,urllib3==1.24.3,vultr==1.0.1,xmltodict==0.12.0,zc.lockfile==2.0,zipp==3.4.0
py37 run-test-pre: PYTHONHASHSEED='454618680'
py37 run-test: commands[0] | /Users/daheinze/Source/GitHub/0_Contributions/testinfra/.tox/py37/bin/python -m pytest -v -n 4 --cov testinfra --cov-report xml --cov-report term test
Sending build context to Docker daemon  3.072kBSending build context to Docker daemon   2.56kB

Sending build context to Docker daemon  3.072kB
Sending build context to Docker daemon  2.048kB
Sending build context to Docker daemon   5.12kB
Step 1/5 : FROM centos:7
 ---> 7e6257c9f8d8
Step 2/5 : RUN yum -y install openssh-server && yum clean all &&    (cd /lib/systemd/system/sysinit.target.wants/; for i in *; do if ! test $i = systemd-tmpfiles-setup.service; then rm -f $i; fi; done) &&     rm -f /lib/systemd/system/multi-user.target.wants/* &&     rm -f /etc/systemd/system/*.wants/* &&     rm -f /lib/systemd/system/local-fs.target.wants/* &&     rm -f /lib/systemd/system/sockets.target.wants/*udev* &&     rm -f /lib/systemd/system/sockets.target.wants/*initctl* &&     rm -f /lib/systemd/system/basic.target.wants/* &&     rm -f /lib/systemd/system/anaconda.target.wants/* &&     rm -f /etc/ssh/ssh_host_ecdsa_key /etc/ssh/ssh_host_rsa_key &&     ssh-keygen -q -N "" -t dsa -f /etc/ssh/ssh_host_ecdsa_key &&     ssh-keygen -q -N "" -t rsa -f /etc/ssh/ssh_host_rsa_key &&     sed -i "s/#UsePrivilegeSeparation.*/UsePrivilegeSeparation no/g" /etc/ssh/sshd_config &&     systemctl enable sshd.service &&     mkdir -p /root/.ssh &&     echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCgDryK4AjJeifuc2N54St13KMNlnGLAtibQSMmvSyrhH7XJ1atnBo1HrJhGZNNBVKM67+zYNc9J3fg3qI1g63vSQAA+nXMsDYwu4BPwupakpwJELcGZJxsUGzjGVotVpqPIX5nW8NBGvkVuObI4UELOleq5mQMTGerJO64KkSVi20FDwPJn3q8GG2zk3pESiDA5ShEyFhYC8vOLfSSYD0LYmShAVGCLEgiNb+OXQL6ZRvzqfFEzL0QvaI/l3mb6b0VFPAO4QWOL0xj3cWzOZXOqht3V85CZvSk8ISdNgwCjXLZsPeaYL/toHNvBF30VMrDZ7w4SDU0ZZLEsc/ezxjb" > /root/.ssh/authorized_keys
 ---> Using cache
 ---> 3fec7118bb23
Step 3/5 : VOLUME ["/sys/fs/cgroup"]
Step 1/17 : FROM debian:buster ---> Using cache
 ---> 41faa4bc5d82

Step 4/5 : EXPOSE 22
 ---> Using cache
 ---> d0a2a0fecf59
Step 5/5 : CMD ["/usr/sbin/init"]
Step 1/5 : FROM ubuntu:xenial
 ---> Using cache
 ---> b6072de73c95
Successfully built b6072de73c95
Step 1/4 : FROM alpine:3.11
 ---> f70734b6a266
Step 2/4 : RUN apk add --update --no-cache python openrc openssh &&     sed -i "s/^#PermitRootLogin prohibit-password/PermitRootLogin without-password/g" /etc/ssh/sshd_config &&     rm -f /etc/ssh/ssh_host_ecdsa_key /etc/ssh/ssh_host_rsa_key &&     ssh-keygen -q -N "" -t dsa -f /etc/ssh/ssh_host_ecdsa_key &&     ssh-keygen -q -N "" -t rsa -f /etc/ssh/ssh_host_rsa_key &&     rc-update add sshd &&     mkdir -p /root/.ssh &&     chmod 700 /root/.ssh &&     echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCgDryK4AjJeifuc2N54St13KMNlnGLAtibQSMmvSyrhH7XJ1atnBo1HrJhGZNNBVKM67+zYNc9J3fg3qI1g63vSQAA+nXMsDYwu4BPwupakpwJELcGZJxsUGzjGVotVpqPIX5nW8NBGvkVuObI4UELOleq5mQMTGerJO64KkSVi20FDwPJn3q8GG2zk3pESiDA5ShEyFhYC8vOLfSSYD0LYmShAVGCLEgiNb+OXQL6ZRvzqfFEzL0QvaI/l3mb6b0VFPAO4QWOL0xj3cWzOZXOqht3V85CZvSk8ISdNgwCjXLZsPeaYL/toHNvBF30VMrDZ7w4SDU0ZZLEsc/ezxjb" > /root/.ssh/authorized_keys
 ---> Using cache
 ---> a1c43dd533ab
Step 3/4 : EXPOSE 22
 ---> c871c45b1573
 ---> f6dcff9b59af
Step 2/5 : RUN apt-get update &&     DEBIAN_FRONTEND=noninteractive apt-get -y install --no-install-recommends 	python 	iputils-ping 	openssh-server &&     rm -rf /var/lib/apt/lists/*
Step 2/17 : ENV container docker
Step 1/4 : FROM archlinux/base
 ---> Using cache
 ---> f8f9c0297125
Step 3/17 : RUN apt-get update &&     DEBIAN_FRONTEND=noninteractive apt-get -y install --no-install-recommends     lsb-release     python     openssh-server     puppet     salt-minion     locales     ntp     sudo     supervisor     systemd-sysv     python-pip     python-virtualenv     iptables     iptables-persistent &&     rm -rf /var/lib/apt/lists/*Successfully tagged testinfra:centos_7

 ---> Using cache
 ---> a87c197f5c8e
Step 4/4 : CMD ["/sbin/init"]
 ---> Using cache
 ---> 57f89dc8d5c2
 ---> Using cache
 ---> 90662771d67d
Step 4/17 : RUN mkdir -p /var/run/sshd &&     (cd /lib/systemd/system/sysinit.target.wants/; for i in *; do if ! test $i = systemd-tmpfiles-setup.service; then rm -f $i; fi; done) &&     rm -f /lib/systemd/system/multi-user.target.wants/* &&     rm -f /etc/systemd/system/*.wants/* &&     rm -f /lib/systemd/system/local-fs.target.wants/* &&     rm -f /lib/systemd/system/sockets.target.wants/*udev* &&     rm -f /lib/systemd/system/sockets.target.wants/*initctl* &&     systemctl enable ssh.service &&     systemctl disable salt-minion.service &&     systemctl enable ntp.service &&     systemctl enable supervisor.service &&     systemctl enable netfilter-persistent.service &&     ln -fsn /bin/false /usr/sbin/ntpd &&     echo "python hold" | dpkg --set-selections &&     echo "LANG=fr_FR.ISO-8859-15" > /etc/default/locale &&     echo "LANGUAGE=fr_FR" >> /etc/default/locale &&     echo "fr_FR.ISO-8859-15 ISO-8859-15" >> /etc/locale.gen &&     locale-gen &&     update-locale &&     useradd -m user -c "gecos.comment" &&     adduser user sudo &&     echo "user ALL=NOPASSWD: ALL" > /etc/sudoers.d/user &&     useradd -m unprivileged &&     mkdir -p /root/.ssh &&     echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCgDryK4AjJeifuc2N54St13KMNlnGLAtibQSMmvSyrhH7XJ1atnBo1HrJhGZNNBVKM67+zYNc9J3fg3qI1g63vSQAA+nXMsDYwu4BPwupakpwJELcGZJxsUGzjGVotVpqPIX5nW8NBGvkVuObI4UELOleq5mQMTGerJO64KkSVi20FDwPJn3q8GG2zk3pESiDA5ShEyFhYC8vOLfSSYD0LYmShAVGCLEgiNb+OXQL6ZRvzqfFEzL0QvaI/l3mb6b0VFPAO4QWOL0xj3cWzOZXOqht3V85CZvSk8ISdNgwCjXLZsPeaYL/toHNvBF30VMrDZ7w4SDU0ZZLEsc/ezxjb" > /root/.ssh/authorized_keys &&     mkdir -p /home/user/.ssh &&     cp /root/.ssh/authorized_keys /home/user/.ssh/authorized_keys &&     chown -R user:user /home/user/.ssh &&     echo "[program:tail]\ncommand=tail -f /dev/null\nuser=user\ngroup=user\n" > /etc/supervisor/conf.d/tail.conf
 ---> Using cache
Step 3/5 : RUN (cd /lib/systemd/system/sysinit.target.wants/; for i in *; do if ! test $i = systemd-tmpfiles-setup.service; then rm -f $i; fi; done) &&     rm -f /lib/systemd/system/multi-user.target.wants/* &&     rm -f /etc/systemd/system/*.wants/* &&     rm -f /lib/systemd/system/local-fs.target.wants/* &&     rm -f /lib/systemd/system/sockets.target.wants/*udev* &&     rm -f /lib/systemd/system/sockets.target.wants/*initctl* &&     systemctl disable ssh.service &&     mkdir -p /var/run/sshd &&     mkdir -p /root/.ssh &&     echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCgDryK4AjJeifuc2N54St13KMNlnGLAtibQSMmvSyrhH7XJ1atnBo1HrJhGZNNBVKM67+zYNc9J3fg3qI1g63vSQAA+nXMsDYwu4BPwupakpwJELcGZJxsUGzjGVotVpqPIX5nW8NBGvkVuObI4UELOleq5mQMTGerJO64KkSVi20FDwPJn3q8GG2zk3pESiDA5ShEyFhYC8vOLfSSYD0LYmShAVGCLEgiNb+OXQL6ZRvzqfFEzL0QvaI/l3mb6b0VFPAO4QWOL0xj3cWzOZXOqht3V85CZvSk8ISdNgwCjXLZsPeaYL/toHNvBF30VMrDZ7w4SDU0ZZLEsc/ezxjb" > /root/.ssh/authorized_keys ---> ba98e7bd1ce2
 ---> 1e8e5a3eb413

Step 2/4 : RUN pacman -Syu --noconfirm --noprogressbar --quiet python openssh iputils procps systemd systemd-sysvcompat &&     systemctl enable sshd.service
 ---> Using cache
 ---> 2e9951cba056
Successfully built ba98e7bd1ce2
Step 3/4 : EXPOSE 22
 ---> Using cache
 ---> 9392d71c8b1d
Step 5/17 : RUN echo "root:foo" | chpasswd
Successfully tagged testinfra:alpine
 ---> Using cache
 ---> 5d356db8421a
Step 4/4 : CMD ["/usr/sbin/init"]
 ---> Using cache
 ---> Using cache
 ---> d7fe3d274f48
Step 6/17 : RUN sed -ri 's/^UsePAM yes$/UsePAM no/' /etc/ssh/sshd_config ---> 49d8990adfda
Step 4/5 : EXPOSE 22
 ---> Using cache

 ---> ee1821a255a1
Successfully built ee1821a255a1
 ---> Using cache
 ---> 56e64ad6b1c6
Step 7/17 : RUN sed -ri 's/AcceptEnv LANG LC_*/#AcceptEnv LANG LC_*/' /etc/ssh/sshd_config
 ---> Using cache
 ---> 7b867d49c962
Step 5/5 : CMD ["/sbin/init"]
Successfully tagged testinfra:archlinux
 ---> Using cache
 ---> efeb8b3423c4
Step 8/17 : RUN echo "PermitUserEnvironment yes" >> /etc/ssh/sshd_config
 ---> Using cache
 ---> ebe1efd7f4e6
Step 9/17 : RUN echo "LANG=fr_FR.ISO-8859-15" >> /root/.ssh/environment ---> Using cache

 ---> d3de1967feea
Successfully built d3de1967feea
 ---> Using cache
 ---> 77e189fd4a49
Step 10/17 : RUN echo "user:foo" | chpasswd
Successfully tagged testinfra:ubuntu_xenial
 ---> Using cache
 ---> dc648da48043
Step 11/17 : RUN echo "*nat\n:PREROUTING ACCEPT [0:0]\n:INPUT ACCEPT [0:0]\n:OUTPUT ACCEPT [0:0]\n:POSTROUTING ACCEPT [0:0]\n-A PREROUTING -d 192.168.0.1/32 -j REDIRECT\nCOMMIT\n*filter\n:INPUT ACCEPT [0:0]\n:FORWARD ACCEPT [0:0]\n:OUTPUT ACCEPT [0:0]\n-A INPUT -p tcp -m state --state NEW -m tcp --dport 22 -j ACCEPT\nCOMMIT" > /etc/iptables/rules.v4
 ---> Using cache
 ---> 918599c3e203
Step 12/17 : RUN chage -E 20000 user
 ---> Using cache
 ---> 3c706f2ddb1d
Step 13/17 : RUN python -m virtualenv /v && /v/bin/pip install 'pytest>2,<3'
 ---> Using cache
 ---> b6253e613bf5
Step 14/17 : ENV LANG fr_FR.ISO-8859-15
 ---> Using cache
 ---> 322c810c1e60
Step 15/17 : ENV LANGUAGE fr_FR
 ---> Using cache
 ---> 4c0d2e570ffd
Step 16/17 : EXPOSE 22
 ---> Using cache
 ---> 77dcb26ff607
Step 17/17 : CMD ["/sbin/init"]
 ---> Using cache
 ---> 7e55538e5e1e
Successfully built 7e55538e5e1e
Successfully tagged testinfra:debian_buster
============================= test session starts ==============================
platform darwin -- Python 3.7.3, pytest-6.2.1, py-1.10.0, pluggy-0.13.1 -- /Users/daheinze/Source/GitHub/0_Contributions/testinfra/.tox/py37/bin/python
cachedir: .tox/py37/.pytest_cache
rootdir: /Users/daheinze/Source/GitHub/0_Contributions/testinfra, configfile: setup.cfg
plugins: testinfra-5.3.2.dev10+gcc84054, cov-2.11.1, xdist-2.2.0, forked-1.3.0
gw0 I / gw1 I / gw2 I / gw3 I
[gw0] darwin Python 3.7.3 cwd: /Users/daheinze/Source/GitHub/0_Contributions/testinfra
[gw1] darwin Python 3.7.3 cwd: /Users/daheinze/Source/GitHub/0_Contributions/testinfra
[gw2] darwin Python 3.7.3 cwd: /Users/daheinze/Source/GitHub/0_Contributions/testinfra
[gw3] darwin Python 3.7.3 cwd: /Users/daheinze/Source/GitHub/0_Contributions/testinfra
[gw0] Python 3.7.3 (default, Mar 27 2019, 16:54:48)  -- [Clang 4.0.1 (tags/RELEASE_401/final)]
[gw1] Python 3.7.3 (default, Mar 27 2019, 16:54:48)  -- [Clang 4.0.1 (tags/RELEASE_401/final)]
[gw2] Python 3.7.3 (default, Mar 27 2019, 16:54:48)  -- [Clang 4.0.1 (tags/RELEASE_401/final)]
[gw3] Python 3.7.3 (default, Mar 27 2019, 16:54:48)  -- [Clang 4.0.1 (tags/RELEASE_401/final)]
gw0 [181] / gw1 [181] / gw2 [181] / gw3 [181]

scheduling tests via LoadScheduling

test/test_backends.py::test_command[safe-ssh://debian_buster] 
test/test_backends.py::test_command[docker://debian_buster] 
test/test_backends.py::test_command[paramiko://debian_buster] 
test/test_backends.py::test_command[ssh://debian_buster] 
[gw2] [  0%] PASSED test/test_backends.py::test_command[docker://debian_buster] 
test/test_backends.py::test_command[ssh://user@debian_buster] 
[gw1] [  1%] PASSED test/test_backends.py::test_command[safe-ssh://debian_buster] 
test/test_backends.py::test_command[ansible://debian_buster?force_ansible=True] 
[gw0] [  1%] PASSED test/test_backends.py::test_command[ssh://debian_buster] 
test/test_backends.py::test_command[ansible://debian_buster] 
[gw2] [  2%] PASSED test/test_backends.py::test_command[ssh://user@debian_buster] 
test/test_backends.py::test_command[ansible://user@debian_buster] 
[gw0] [  2%] PASSED test/test_backends.py::test_command[ansible://debian_buster] 
test/test_backends.py::test_command[docker://user@debian_buster] 
[gw2] [  3%] PASSED test/test_backends.py::test_command[ansible://user@debian_buster] 
test/test_backends.py::test_command[docker://user@debian_buster?sudo=True] 
[gw3] [  3%] PASSED test/test_backends.py::test_command[paramiko://debian_buster] 
test/test_backends.py::test_command[safe-ssh://user@debian_buster] 
[gw0] [  4%] PASSED test/test_backends.py::test_command[docker://user@debian_buster] 
test/test_backends.py::test_command[ssh://user@debian_buster?sudo=True] 
[gw3] [  4%] PASSED test/test_backends.py::test_command[safe-ssh://user@debian_buster] 
test/test_backends.py::test_command[ansible://user@debian_buster?force_ansible=True] 
[gw2] [  5%] PASSED test/test_backends.py::test_command[docker://user@debian_buster?sudo=True] 
test/test_backends.py::test_command[ssh://debian_buster?sudo=True&sudo_user=user] 
[gw0] [  6%] PASSED test/test_backends.py::test_command[ssh://user@debian_buster?sudo=True] 
test/test_backends.py::test_command[ansible://user@debian_buster?sudo=True] 
[gw2] [  6%] PASSED test/test_backends.py::test_command[ssh://debian_buster?sudo=True&sudo_user=user] 
test/test_backends.py::test_command[ansible://debian_buster?sudo=True&sudo_user=user] 
[gw0] [  7%] PASSED test/test_backends.py::test_command[ansible://user@debian_buster?sudo=True] 
test/test_backends.py::test_command[docker://debian_buster?sudo=True&sudo_user=user] 
[gw2] [  7%] PASSED test/test_backends.py::test_command[ansible://debian_buster?sudo=True&sudo_user=user] 
test/test_backends.py::test_encoding[docker://debian_buster] 
[gw0] [  8%] PASSED test/test_backends.py::test_command[docker://debian_buster?sudo=True&sudo_user=user] 
test/test_backends.py::test_encoding[ssh://debian_buster] 
[gw2] [  8%] PASSED test/test_backends.py::test_encoding[docker://debian_buster] 
test/test_backends.py::test_ansible_any_error_fatal[ansible://debian_buster?force_ansible=True] 
[gw0] [  9%] PASSED test/test_backends.py::test_encoding[ssh://debian_buster] 
test/test_backends.py::test_encoding[ansible://debian_buster] 
[gw0] [  9%] PASSED test/test_backends.py::test_encoding[ansible://debian_buster] 
test/test_backends.py::test_user_connection[safe-ssh://user@debian_buster] 
[gw2] [ 10%] PASSED test/test_backends.py::test_ansible_any_error_fatal[ansible://debian_buster?force_ansible=True] 
test/test_backends.py::test_user_connection[paramiko://user@debian_buster] 
[gw0] [ 11%] PASSED test/test_backends.py::test_user_connection[safe-ssh://user@debian_buster] 
test/test_backends.py::test_user_connection[ansible://user@debian_buster?force_ansible=True] 
[gw1] [ 11%] PASSED test/test_backends.py::test_command[ansible://debian_buster?force_ansible=True] 
test/test_backends.py::test_command[paramiko://user@debian_buster] 
[gw2] [ 12%] PASSED test/test_backends.py::test_user_connection[paramiko://user@debian_buster] 
test/test_backends.py::test_user_connection[safe-ssh://debian_buster?sudo=True&sudo_user=user] 
[gw2] [ 12%] PASSED test/test_backends.py::test_user_connection[safe-ssh://debian_buster?sudo=True&sudo_user=user] 
test/test_backends.py::test_user_connection[ansible://debian_buster?force_ansible=True&sudo=True&sudo_user=user] 
[gw3] [ 13%] PASSED test/test_backends.py::test_command[ansible://user@debian_buster?force_ansible=True] 
test/test_backends.py::test_command[paramiko://user@debian_buster?sudo=True] 
[gw1] [ 13%] PASSED test/test_backends.py::test_command[paramiko://user@debian_buster] 
test/test_backends.py::test_command[safe-ssh://user@debian_buster?sudo=True] 
[gw1] [ 14%] PASSED test/test_backends.py::test_command[safe-ssh://user@debian_buster?sudo=True] 
test/test_backends.py::test_command[ansible://user@debian_buster?force_ansible=True&sudo=True] 
[gw3] [ 14%] PASSED test/test_backends.py::test_command[paramiko://user@debian_buster?sudo=True] 
test/test_backends.py::test_command[safe-ssh://debian_buster?sudo=True&sudo_user=user] 
[gw3] [ 15%] PASSED test/test_backends.py::test_command[safe-ssh://debian_buster?sudo=True&sudo_user=user] 
test/test_backends.py::test_command[ansible://debian_buster?force_ansible=True&sudo=True&sudo_user=user] 
[gw0] [ 16%] PASSED test/test_backends.py::test_user_connection[ansible://user@debian_buster?force_ansible=True] 
test/test_backends.py::test_user_connection[paramiko://debian_buster?sudo=True&sudo_user=user] 
[gw0] [ 16%] PASSED test/test_backends.py::test_user_connection[paramiko://debian_buster?sudo=True&sudo_user=user] 
test/test_backends.py::test_sudo[safe-ssh://user@debian_buster?sudo=True] 
[gw2] [ 17%] FAILED test/test_backends.py::test_user_connection[ansible://debian_buster?force_ansible=True&sudo=True&sudo_user=user] 
test/test_backends.py::test_sudo[docker://user@debian_buster?sudo=True] 
[gw0] [ 17%] PASSED test/test_backends.py::test_sudo[safe-ssh://user@debian_buster?sudo=True] 
test/test_backends.py::test_ansible_get_host[kwargs10-host-expected10] 
[gw2] [ 18%] PASSED test/test_backends.py::test_sudo[docker://user@debian_buster?sudo=True] 
test/test_backends.py::test_sudo[paramiko://user@debian_buster?sudo=True] 
[gw1] [ 18%] PASSED test/test_backends.py::test_command[ansible://user@debian_buster?force_ansible=True&sudo=True] 
test/test_backends.py::test_command[paramiko://debian_buster?sudo=True&sudo_user=user] 
[gw0] [ 19%] PASSED test/test_backends.py::test_ansible_get_host[kwargs10-host-expected10] 
test/test_backends.py::test_ansible_ssh_command[host-ssh -o ConnectTimeout=10 -o ControlMaster=auto -o ControlPersist=60s host true] 
[gw2] [ 19%] PASSED test/test_backends.py::test_sudo[paramiko://user@debian_buster?sudo=True] 
test/test_backends.py::test_sudo[ansible://user@debian_buster?sudo=True] 
[gw0] [ 20%] PASSED test/test_backends.py::test_ansible_ssh_command[host-ssh -o ConnectTimeout=10 -o ControlMaster=auto -o ControlPersist=60s host true] 
test/test_backends.py::test_ansible_ssh_command[host ansible_user=user ansible_ssh_pass=password-sshpass -p password ssh -o User=user -o ConnectTimeout=10 -o ControlMaster=auto -o ControlPersist=60s host true] 
[gw3] [ 20%] PASSED test/test_backends.py::test_command[ansible://debian_buster?force_ansible=True&sudo=True&sudo_user=user] 
test/test_backends.py::test_encoding[paramiko://debian_buster] 
[gw1] [ 21%] PASSED test/test_backends.py::test_command[paramiko://debian_buster?sudo=True&sudo_user=user] 
test/test_backends.py::test_encoding[safe-ssh://debian_buster] 
[gw1] [ 22%] PASSED test/test_backends.py::test_encoding[safe-ssh://debian_buster] 
test/test_backends.py::test_encoding[ansible://debian_buster?force_ansible=True] 
[gw0] [ 22%] PASSED test/test_backends.py::test_ansible_ssh_command[host ansible_user=user ansible_ssh_pass=password-sshpass -p password ssh -o User=user -o ConnectTimeout=10 -o ControlMaster=auto -o ControlPersist=60s host true] 
test/test_backends.py::test_ansible_ssh_command[host ansible_user=user ansible_ssh_pass=password ansible_ssh_private_key_file=some_file-ssh -o User=user -i some_file -o ConnectTimeout=10 -o ControlMaster=auto -o ControlPersist=60s host true] 
[gw2] [ 23%] FAILED test/test_backends.py::test_sudo[ansible://user@debian_buster?sudo=True] 
test/test_backends.py::test_sudo[ansible://user@debian_buster?force_ansible=True&sudo=True] 
[gw3] [ 23%] PASSED test/test_backends.py::test_encoding[paramiko://debian_buster] 
test/test_backends.py::test_user_connection[ssh://user@debian_buster] 
[gw1] [ 24%] FAILED test/test_backends.py::test_encoding[ansible://debian_buster?force_ansible=True] 
test/test_backends.py::test_user_connection[docker://user@debian_buster] 
[gw0] [ 24%] PASSED test/test_backends.py::test_ansible_ssh_command[host ansible_user=user ansible_ssh_pass=password ansible_ssh_private_key_file=some_file-ssh -o User=user -i some_file -o ConnectTimeout=10 -o ControlMaster=auto -o ControlPersist=60s host true] 
test/test_backends.py::test_ansible_ssh_command[host ansible_ssh_pass=password-ssh -o ConnectTimeout=10 -o ControlMaster=auto -o ControlPersist=60s host true] 
[gw3] [ 25%] PASSED test/test_backends.py::test_user_connection[ssh://user@debian_buster] 
test/test_backends.py::test_user_connection[ansible://user@debian_buster] 
[gw1] [ 25%] PASSED test/test_backends.py::test_user_connection[docker://user@debian_buster] 
test/test_backends.py::test_user_connection[ssh://debian_buster?sudo=True&sudo_user=user] 
[gw1] [ 26%] PASSED test/test_backends.py::test_user_connection[ssh://debian_buster?sudo=True&sudo_user=user] 
test/test_backends.py::test_user_connection[ansible://debian_buster?sudo=True&sudo_user=user] 
[gw0] [ 27%] PASSED test/test_backends.py::test_ansible_ssh_command[host ansible_ssh_pass=password-ssh -o ConnectTimeout=10 -o ControlMaster=auto -o ControlPersist=60s host true] 
test/test_backends.py::test_ansible_ssh_command[host ansible_ssh_extra_args="-o ConnectTimeout=5 -o ControlMaster=auto -o ControlPersist=10s"-ssh -o ConnectTimeout=5 -o ControlMaster=auto -o ControlPersist=10s host true] 
[gw3] [ 27%] PASSED test/test_backends.py::test_user_connection[ansible://user@debian_buster] 
test/test_backends.py::test_user_connection[docker://debian_buster?sudo=True&sudo_user=user] 
[gw3] [ 28%] PASSED test/test_backends.py::test_user_connection[docker://debian_buster?sudo=True&sudo_user=user] 
test/test_backends.py::test_sudo[ssh://user@debian_buster?sudo=True] 
[gw1] [ 28%] FAILED test/test_backends.py::test_user_connection[ansible://debian_buster?sudo=True&sudo_user=user] 
test/test_backends.py::test_ansible_options[options5---become-method %s-expected_args5] 
[gw1] [ 29%] PASSED test/test_backends.py::test_ansible_options[options5---become-method %s-expected_args5] 
test/test_backends.py::test_ansible_options[options6---become-user %s-expected_args6] 
[gw1] [ 29%] PASSED test/test_backends.py::test_ansible_options[options6---become-user %s-expected_args6] 
test/test_backends.py::test_ansible_options[options7---user %s-expected_args7] 
[gw1] [ 30%] PASSED test/test_backends.py::test_ansible_options[options7---user %s-expected_args7] 
test/test_backends.py::test_ansible_options[options8---extra-vars %s-expected_args8] 
[gw1] [ 30%] PASSED test/test_backends.py::test_ansible_options[options8---extra-vars %s-expected_args8] 
test/test_backends.py::test_ansible_options[options9--expected_args9] 
[gw1] [ 31%] PASSED test/test_backends.py::test_ansible_options[options9--expected_args9] 
test/test_backends.py::test_ansible_options[options10--v-expected_args10] 
[gw1] [ 32%] PASSED test/test_backends.py::test_ansible_options[options10--v-expected_args10] 
test/test_backends.py::test_ansible_options[options11--vv-expected_args11] 
[gw1] [ 32%] PASSED test/test_backends.py::test_ansible_options[options11--vv-expected_args11] 
test/test_backends.py::test_ansible_options[options12--vvv-expected_args12] 
[gw1] [ 33%] PASSED test/test_backends.py::test_ansible_options[options12--vvv-expected_args12] 
test/test_backends.py::test_ansible_options[options13--vvvv-expected_args13] 
[gw1] [ 33%] PASSED test/test_backends.py::test_ansible_options[options13--vvvv-expected_args13] 
test/test_backends.py::test_ansible_unknown_option 
[gw1] [ 34%] PASSED test/test_backends.py::test_ansible_unknown_option 
test/test_backends.py::test_backend_importables 
[gw3] [ 34%] PASSED test/test_backends.py::test_sudo[ssh://user@debian_buster?sudo=True] 
test/test_backends.py::test_docker_encoding[ssh://centos_7] 
[gw1] [ 35%] PASSED test/test_backends.py::test_backend_importables 
test/test_backends.py::test_docker_encoding[docker://centos_7] 
[gw0] [ 35%] PASSED test/test_backends.py::test_ansible_ssh_command[host ansible_ssh_extra_args="-o ConnectTimeout=5 -o ControlMaster=auto -o ControlPersist=10s"-ssh -o ConnectTimeout=5 -o ControlMaster=auto -o ControlPersist=10s host true] 
test/test_backends.py::test_ansible_ssh_command[host ansible_ssh_extra_args="-o ControlPath ~/.ssh/ansible/cp/%r@%h-%p"-ssh -o ControlPath ~/.ssh/ansible/cp/%r@%h-%p -o ConnectTimeout=10 -o ControlMaster=auto -o ControlPersist=60s host true] 
[gw1] [ 36%] PASSED test/test_backends.py::test_docker_encoding[docker://centos_7] 
test/test_backends.py::test_parse_hostspec[user:password@[2001:4800:7819:103:be76:4eff:fe04:9229]:22-expected9] 
[gw1] [ 37%] PASSED test/test_backends.py::test_parse_hostspec[user:password@[2001:4800:7819:103:be76:4eff:fe04:9229]:22-expected9] 
test/test_backends.py::test_kubectl_hostspec[kubectl://pod-pod-None-None-None-None] 
[gw1] [ 37%] PASSED test/test_backends.py::test_kubectl_hostspec[kubectl://pod-pod-None-None-None-None] 
test/test_backends.py::test_kubectl_hostspec[kubectl://pod?namespace=n-pod-None-n-None-None] 
[gw1] [ 38%] PASSED test/test_backends.py::test_kubectl_hostspec[kubectl://pod?namespace=n-pod-None-n-None-None] 
test/test_backends.py::test_kubectl_hostspec[kubectl://pod?container=c&namespace=n-pod-c-n-None-None] 
[gw1] [ 38%] PASSED test/test_backends.py::test_kubectl_hostspec[kubectl://pod?container=c&namespace=n-pod-c-n-None-None] 
test/test_backends.py::test_kubectl_hostspec[kubectl://pod?namespace=n&kubeconfig=k-pod-None-n-k-None] 
[gw1] [ 39%] PASSED test/test_backends.py::test_kubectl_hostspec[kubectl://pod?namespace=n&kubeconfig=k-pod-None-n-k-None] 
test/test_backends.py::test_kubectl_hostspec[kubectl://pod?context=ctx&container=c-pod-c-None-None-ctx] 
[gw1] [ 39%] PASSED test/test_backends.py::test_kubectl_hostspec[kubectl://pod?context=ctx&container=c-pod-c-None-None-ctx] 
test/test_backends.py::test_openshift_hostspec[openshift://pod-pod-None-None-None] 
[gw1] [ 40%] PASSED test/test_backends.py::test_openshift_hostspec[openshift://pod-pod-None-None-None] 
test/test_backends.py::test_openshift_hostspec[openshift://pod?namespace=n-pod-None-n-None] 
[gw1] [ 40%] PASSED test/test_backends.py::test_openshift_hostspec[openshift://pod?namespace=n-pod-None-n-None] 
test/test_backends.py::test_openshift_hostspec[openshift://pod?container=c&namespace=n-pod-c-n-None] 
[gw1] [ 41%] PASSED test/test_backends.py::test_openshift_hostspec[openshift://pod?container=c&namespace=n-pod-c-n-None] 
test/test_backends.py::test_openshift_hostspec[openshift://pod?namespace=n&kubeconfig=k-pod-None-n-k] 
[gw1] [ 41%] PASSED test/test_backends.py::test_openshift_hostspec[openshift://pod?namespace=n&kubeconfig=k-pod-None-n-k] 
test/test_backends.py::test_winrm_quote[C:\\Users\\vagrant\\This Dir\\salt-"C:\\Users\\vagrant\\This Dir\\salt"] 
[gw1] [ 42%] PASSED test/test_backends.py::test_winrm_quote[C:\\Users\\vagrant\\This Dir\\salt-"C:\\Users\\vagrant\\This Dir\\salt"] 
test/test_backends.py::test_winrm_quote[C:\\Users\\vagrant\\AppData\\Local\\Temp\\kitchen\\etc\\salt-"C:\\Users\\vagrant\\AppData\\Local\\Temp\\kitchen\\etc\\salt"] 
[gw1] [ 43%] PASSED test/test_backends.py::test_winrm_quote[C:\\Users\\vagrant\\AppData\\Local\\Temp\\kitchen\\etc\\salt-"C:\\Users\\vagrant\\AppData\\Local\\Temp\\kitchen\\etc\\salt"] 
test/test_backends.py::test_ssh_hostspec[ssh://h-ssh -o ConnectTimeout=10 -o ControlMaster=auto -o ControlPersist=60s h true] 
[gw1] [ 43%] PASSED test/test_backends.py::test_ssh_hostspec[ssh://h-ssh -o ConnectTimeout=10 -o ControlMaster=auto -o ControlPersist=60s h true] 
test/test_backends.py::test_ssh_hostspec[ssh://h?timeout=1-ssh -o ConnectTimeout=1 -o ControlMaster=auto -o ControlPersist=60s h true] 
[gw1] [ 44%] PASSED test/test_backends.py::test_ssh_hostspec[ssh://h?timeout=1-ssh -o ConnectTimeout=1 -o ControlMaster=auto -o ControlPersist=60s h true] 
test/test_backends.py::test_ssh_hostspec[ssh://u@h:2222-ssh -o User=u -o Port=2222 -o ConnectTimeout=10 -o ControlMaster=auto -o ControlPersist=60s h true] 
[gw1] [ 44%] PASSED test/test_backends.py::test_ssh_hostspec[ssh://u@h:2222-ssh -o User=u -o Port=2222 -o ConnectTimeout=10 -o ControlMaster=auto -o ControlPersist=60s h true] 
test/test_backends.py::test_ssh_hostspec[ssh://h:2222?ssh_config=/f-ssh -F /f -o Port=2222 -o ConnectTimeout=10 -o ControlMaster=auto -o ControlPersist=60s h true] 
[gw1] [ 45%] PASSED test/test_backends.py::test_ssh_hostspec[ssh://h:2222?ssh_config=/f-ssh -F /f -o Port=2222 -o ConnectTimeout=10 -o ControlMaster=auto -o ControlPersist=60s h true] 
test/test_backends.py::test_ssh_hostspec[ssh://u@h?ssh_identity_file=/id-ssh -o User=u -i /id -o ConnectTimeout=10 -o ControlMaster=auto -o ControlPersist=60s h true] 
[gw1] [ 45%] PASSED test/test_backends.py::test_ssh_hostspec[ssh://u@h?ssh_identity_file=/id-ssh -o User=u -i /id -o ConnectTimeout=10 -o ControlMaster=auto -o ControlPersist=60s h true] 
test/test_backends.py::test_ssh_hostspec[ssh://h?controlpersist=1-ssh -o ConnectTimeout=10 -o ControlMaster=auto -o ControlPersist=1s h true] 
[gw1] [ 46%] PASSED test/test_backends.py::test_ssh_hostspec[ssh://h?controlpersist=1-ssh -o ConnectTimeout=10 -o ControlMaster=auto -o ControlPersist=1s h true] 
test/test_backends.py::test_ssh_hostspec[ssh://h?controlpersist=0-ssh -o ConnectTimeout=10 h true] 
[gw1] [ 46%] PASSED test/test_backends.py::test_ssh_hostspec[ssh://h?controlpersist=0-ssh -o ConnectTimeout=10 h true] 
test/test_backends.py::test_get_hosts 
[gw1] [ 47%] PASSED test/test_backends.py::test_get_hosts 
test/test_invocation.py::test_nagios_notest 
[gw3] [ 48%] PASSED test/test_backends.py::test_docker_encoding[ssh://centos_7] 
test/test_backends.py::test_parse_hostspec[u:P@h:p-expected0] 
[gw3] [ 48%] PASSED test/test_backends.py::test_parse_hostspec[u:P@h:p-expected0] 
test/test_backends.py::test_parse_hostspec[u@h:p-expected1] 
[gw3] [ 49%] PASSED test/test_backends.py::test_parse_hostspec[u@h:p-expected1] 
test/test_backends.py::test_parse_hostspec[u:P@h-expected2] 
[gw3] [ 49%] PASSED test/test_backends.py::test_parse_hostspec[u:P@h-expected2] 
test/test_backends.py::test_parse_hostspec[u@h-expected3] 
[gw3] [ 50%] PASSED test/test_backends.py::test_parse_hostspec[u@h-expected3] 
test/test_backends.py::test_parse_hostspec[h-expected4] 
[gw3] [ 50%] PASSED test/test_backends.py::test_parse_hostspec[h-expected4] 
test/test_backends.py::test_parse_hostspec[pr%C3%A9nom@h-expected5] 
[gw3] [ 51%] PASSED test/test_backends.py::test_parse_hostspec[pr%C3%A9nom@h-expected5] 
test/test_backends.py::test_parse_hostspec[pr%C3%A9nom:p%40ss%3Aw0rd@h-expected6] 
[gw3] [ 51%] PASSED test/test_backends.py::test_parse_hostspec[pr%C3%A9nom:p%40ss%3Aw0rd@h-expected6] 
test/test_backends.py::test_parse_hostspec[[2001:db8:a0b:12f0::1]-expected7] 
[gw3] [ 52%] PASSED test/test_backends.py::test_parse_hostspec[[2001:db8:a0b:12f0::1]-expected7] 
test/test_backends.py::test_parse_hostspec[user:password@[2001:db8:a0b:12f0::1]-expected8] 
[gw3] [ 53%] PASSED test/test_backends.py::test_parse_hostspec[user:password@[2001:db8:a0b:12f0::1]-expected8] 
test/test_modules.py::test_package[docker://alpine] 
[gw1] [ 53%] PASSED test/test_invocation.py::test_nagios_notest 
test/test_invocation.py::test_nagios_ok 
[gw1] [ 54%] PASSED test/test_invocation.py::test_nagios_ok 
test/test_invocation.py::test_nagios_fail 
[gw1] [ 54%] PASSED test/test_invocation.py::test_nagios_fail 
test/test_modules.py::test_held_package[docker://debian_buster] 
[gw1] [ 55%] PASSED test/test_modules.py::test_held_package[docker://debian_buster] 
test/test_modules.py::test_non_default_package_tool[docker://centos_7] 
[gw1] [ 55%] PASSED test/test_modules.py::test_non_default_package_tool[docker://centos_7] 
test/test_modules.py::test_uninstalled_package_version[docker://debian_buster] 
[gw0] [ 56%] PASSED test/test_backends.py::test_ansible_ssh_command[host ansible_ssh_extra_args="-o ControlPath ~/.ssh/ansible/cp/%r@%h-%p"-ssh -o ControlPath ~/.ssh/ansible/cp/%r@%h-%p -o ConnectTimeout=10 -o ControlMaster=auto -o ControlPersist=60s host true] 
test/test_backends.py::test_ansible_no_host 
[gw3] [ 56%] PASSED test/test_modules.py::test_package[docker://alpine] 
test/test_modules.py::test_package[docker://archlinux] 
[gw3] [ 57%] PASSED test/test_modules.py::test_package[docker://archlinux] 
test/test_modules.py::test_package[docker://centos_7] 
[gw1] [ 58%] PASSED test/test_modules.py::test_uninstalled_package_version[docker://debian_buster] 
test/test_modules.py::test_systeminfo[docker://alpine] 
[gw3] [ 58%] PASSED test/test_modules.py::test_package[docker://centos_7] 
test/test_modules.py::test_package[docker://debian_buster] 
[gw1] [ 59%] PASSED test/test_modules.py::test_systeminfo[docker://alpine] 
test/test_modules.py::test_systeminfo[docker://archlinux] 
[gw2] [ 59%] FAILED test/test_backends.py::test_sudo[ansible://user@debian_buster?force_ansible=True&sudo=True] 
test/test_backends.py::test_ansible_get_hosts 
[gw3] [ 60%] PASSED test/test_modules.py::test_package[docker://debian_buster] 
test/test_modules.py::test_package[docker://ubuntu_xenial] 
[gw1] [ 60%] PASSED test/test_modules.py::test_systeminfo[docker://archlinux] 
test/test_modules.py::test_systeminfo[docker://centos_7] 
[gw1] [ 61%] PASSED test/test_modules.py::test_systeminfo[docker://centos_7] 
test/test_modules.py::test_ssh_service[docker://debian_buster] 
[gw1] [ 61%] PASSED test/test_modules.py::test_ssh_service[docker://debian_buster] 
test/test_modules.py::test_ssh_service[docker://ubuntu_xenial] 
[gw3] [ 62%] PASSED test/test_modules.py::test_package[docker://ubuntu_xenial] 
test/test_modules.py::test_systeminfo[docker://debian_buster] 
[gw3] [ 62%] PASSED test/test_modules.py::test_systeminfo[docker://debian_buster] 
test/test_modules.py::test_systeminfo[docker://ubuntu_xenial] 
[gw3] [ 63%] PASSED test/test_modules.py::test_systeminfo[docker://ubuntu_xenial] 
test/test_modules.py::test_ssh_service[docker://alpine] 
[gw1] [ 64%] PASSED test/test_modules.py::test_ssh_service[docker://ubuntu_xenial] 
test/test_modules.py::test_service_systemd_mask[docker://debian_buster] 
[gw3] [ 64%] PASSED test/test_modules.py::test_ssh_service[docker://alpine] 
test/test_modules.py::test_ssh_service[docker://archlinux] 
[gw3] [ 65%] PASSED test/test_modules.py::test_ssh_service[docker://archlinux] 
test/test_modules.py::test_ssh_service[docker://centos_7] 
[gw1] [ 65%] PASSED test/test_modules.py::test_service_systemd_mask[docker://debian_buster] 
test/test_modules.py::test_service[docker://debian_buster-ntp-False-True] 
[gw1] [ 66%] PASSED test/test_modules.py::test_service[docker://debian_buster-ntp-False-True] 
test/test_modules.py::test_sysctl[docker://debian_buster] 
[gw3] [ 66%] PASSED test/test_modules.py::test_ssh_service[docker://centos_7] 
test/test_modules.py::test_service[docker://debian_buster-salt-minion-False-False] 
[gw1] [ 67%] PASSED test/test_modules.py::test_sysctl[docker://debian_buster] 
test/test_modules.py::test_parse_socketspec 
[gw1] [ 67%] PASSED test/test_modules.py::test_parse_socketspec 
test/test_modules.py::test_socket[docker://debian_buster] 
[gw3] [ 68%] PASSED test/test_modules.py::test_service[docker://debian_buster-salt-minion-False-False] 
test/test_modules.py::test_salt[docker://debian_buster] 
[gw1] [ 69%] PASSED test/test_modules.py::test_socket[docker://debian_buster] 
test/test_modules.py::test_process[docker://alpine] 
[gw1] [ 69%] PASSED test/test_modules.py::test_process[docker://alpine] 
test/test_modules.py::test_process[docker://archlinux] 
[gw3] [ 70%] PASSED test/test_modules.py::test_salt[docker://debian_buster] 
test/test_modules.py::test_puppet_resource[docker://debian_buster] 
[gw1] [ 70%] PASSED test/test_modules.py::test_process[docker://archlinux] 
test/test_modules.py::test_process[docker://centos_7] 
[gw1] [ 71%] PASSED test/test_modules.py::test_process[docker://centos_7] 
test/test_modules.py::test_process[docker://debian_buster] 
[gw1] [ 71%] PASSED test/test_modules.py::test_process[docker://debian_buster] 
test/test_modules.py::test_process[docker://ubuntu_xenial] 
[gw0] [ 72%] PASSED test/test_backends.py::test_ansible_no_host 
test/test_backends.py::test_ansible_config 
[gw3] [ 72%] PASSED test/test_modules.py::test_puppet_resource[docker://debian_buster] 
test/test_modules.py::test_facter[docker://debian_buster] 
[gw1] [ 73%] PASSED test/test_modules.py::test_process[docker://ubuntu_xenial] 
test/test_modules.py::test_user[docker://debian_buster] 
[gw1] [ 74%] PASSED test/test_modules.py::test_user[docker://debian_buster] 
test/test_modules.py::test_user_user[docker://debian_buster] 
[gw1] [ 74%] PASSED test/test_modules.py::test_user_user[docker://debian_buster] 
test/test_modules.py::test_current_user[docker://debian_buster] 
[gw3] [ 75%] PASSED test/test_modules.py::test_facter[docker://debian_buster] 
test/test_modules.py::test_user_expiration_date[docker://debian_buster] 
[gw3] [ 75%] PASSED test/test_modules.py::test_user_expiration_date[docker://debian_buster] 
test/test_modules.py::test_nonexistent_user[docker://debian_buster] 
[gw0] [ 76%] PASSED test/test_backends.py::test_ansible_config 
test/test_backends.py::test_ansible_options[options0---check-expected_args0] 
[gw0] [ 76%] PASSED test/test_backends.py::test_ansible_options[options0---check-expected_args0] 
test/test_backends.py::test_ansible_options[options1---become --check-expected_args1] 
[gw0] [ 77%] PASSED test/test_backends.py::test_ansible_options[options1---become --check-expected_args1] 
test/test_backends.py::test_ansible_options[options2--expected_args2] 
[gw0] [ 77%] PASSED test/test_backends.py::test_ansible_options[options2--expected_args2] 
test/test_backends.py::test_ansible_options[options3---diff-expected_args3] 
[gw0] [ 78%] PASSED test/test_backends.py::test_ansible_options[options3---diff-expected_args3] 
test/test_backends.py::test_ansible_options[options4---one-line-expected_args4] 
[gw0] [ 79%] PASSED test/test_backends.py::test_ansible_options[options4---one-line-expected_args4] 
test/test_modules.py::test_local_command[docker://debian_buster] 
[gw0] [ 79%] PASSED test/test_modules.py::test_local_command[docker://debian_buster] 
test/test_modules.py::test_file[docker://debian_buster] 
[gw3] [ 80%] PASSED test/test_modules.py::test_nonexistent_user[docker://debian_buster] 
test/test_modules.py::test_empty_command_output[docker://debian_buster] 
[gw3] [ 80%] PASSED test/test_modules.py::test_empty_command_output[docker://debian_buster] 
test/test_modules.py::test_ansible_module[ansible://debian_buster] 
[gw1] [ 81%] PASSED test/test_modules.py::test_current_user[docker://debian_buster] 
test/test_modules.py::test_group[docker://debian_buster] 
[gw1] [ 81%] PASSED test/test_modules.py::test_group[docker://debian_buster] 
test/test_modules.py::test_ansible_module_become[ansible://user@debian_buster] 
[gw0] [ 82%] PASSED test/test_modules.py::test_file[docker://debian_buster] 
test/test_modules.py::test_ansible_unavailable[docker://debian_buster] 
[gw0] [ 82%] PASSED test/test_modules.py::test_ansible_unavailable[docker://debian_buster] 
test/test_modules.py::test_supervisor[docker://debian_buster] 
[gw1] [ 83%] FAILED test/test_modules.py::test_ansible_module_become[ansible://user@debian_buster] 
test/test_modules.py::test_ansible_module_options[ansible://debian_buster] 
[gw0] [ 83%] PASSED test/test_modules.py::test_supervisor[docker://debian_buster] 
test/test_modules.py::test_mountpoint[docker://debian_buster] 
[gw0] [ 84%] PASSED test/test_modules.py::test_mountpoint[docker://debian_buster] 
test/test_modules.py::test_sudo_fail_from_root[docker://debian_buster] 
[gw1] [ 85%] PASSED test/test_modules.py::test_ansible_module_options[ansible://debian_buster] 
test/test_modules.py::test_sudo_from_root[docker://debian_buster] 
[gw0] [ 85%] PASSED test/test_modules.py::test_sudo_fail_from_root[docker://debian_buster] 
test/test_modules.py::test_sudo_to_root[docker://user@debian_buster] 
[gw1] [ 86%] PASSED test/test_modules.py::test_sudo_from_root[docker://debian_buster] 
test/test_modules.py::test_command_execution[docker://debian_buster] 
[gw1] [ 86%] PASSED test/test_modules.py::test_command_execution[docker://debian_buster] 
test/test_modules.py::test_environment_home[docker://debian_buster] 
[gw1] [ 87%] PASSED test/test_modules.py::test_environment_home[docker://debian_buster] 
test/test_modules.py::test_iptables[docker://debian_buster] 
[gw0] [ 87%] PASSED test/test_modules.py::test_sudo_to_root[docker://user@debian_buster] 
test/test_modules.py::test_pip_package[docker://debian_buster] 
[gw1] [ 88%] PASSED test/test_modules.py::test_iptables[docker://debian_buster] 
test/test_modules.py::test_ip6tables[docker://debian_buster] 
[gw1] [ 88%] PASSED test/test_modules.py::test_ip6tables[docker://debian_buster] 
test/test_modules.py::test_addr[docker://archlinux] 
[gw2] [ 89%] PASSED test/test_backends.py::test_ansible_get_hosts 
test/test_backends.py::test_ansible_get_variables 
[gw0] [ 90%] PASSED test/test_modules.py::test_pip_package[docker://debian_buster] 
test/test_modules.py::test_addr[docker://alpine] 
[gw2] [ 90%] PASSED test/test_backends.py::test_ansible_get_variables 
test/test_backends.py::test_ansible_get_host[kwargs0-host ansible_connection=local ansible_become=yes ansible_become_user=u-expected0] 
[gw3] [ 91%] PASSED test/test_modules.py::test_ansible_module[ansible://debian_buster] 
test/test_modules.py::test_ansible_module_become[ansible://debian_buster] 
[gw1] [ 91%] PASSED test/test_modules.py::test_addr[docker://archlinux] 
test/test_modules.py::test_addr[docker://centos_7] 
[gw0] [ 92%] PASSED test/test_modules.py::test_addr[docker://alpine] 
test/test_modules.py::test_addr[docker://debian_buster] 
[gw2] [ 92%] PASSED test/test_backends.py::test_ansible_get_host[kwargs0-host ansible_connection=local ansible_become=yes ansible_become_user=u-expected0] 
test/test_backends.py::test_ansible_get_host[kwargs1-host-expected1] 
[gw2] [ 93%] PASSED test/test_backends.py::test_ansible_get_host[kwargs1-host-expected1] 
test/test_backends.py::test_ansible_get_host[kwargs2-host ansible_connection=smart-expected2] 
[gw2] [ 93%] PASSED test/test_backends.py::test_ansible_get_host[kwargs2-host ansible_connection=smart-expected2] 
test/test_backends.py::test_ansible_get_host[kwargs3-host ansible_host=127.0.1.1 ansible_user=u ansible_ssh_private_key_file=key ansible_port=2222 ansible_become=yes ansible_become_user=u-expected3] 
[gw3] [ 94%] FAILED test/test_modules.py::test_ansible_module_become[ansible://debian_buster] 
test/test_modules.py::test_addr[docker://ubuntu_xenial] 
[gw1] [ 95%] PASSED test/test_modules.py::test_addr[docker://centos_7] 
[gw0] [ 95%] PASSED test/test_modules.py::test_addr[docker://debian_buster] 
[gw2] [ 96%] PASSED test/test_backends.py::test_ansible_get_host[kwargs3-host ansible_host=127.0.1.1 ansible_user=u ansible_ssh_private_key_file=key ansible_port=2222 ansible_become=yes ansible_become_user=u-expected3] 
test/test_backends.py::test_ansible_get_host[kwargs4-host ansible_host=127.0.1.1 ansible_user=u ansible_private_key_file=key ansible_port=2222 ansible_become=yes ansible_become_user=u-expected4] 
[gw2] [ 96%] PASSED test/test_backends.py::test_ansible_get_host[kwargs4-host ansible_host=127.0.1.1 ansible_user=u ansible_private_key_file=key ansible_port=2222 ansible_become=yes ansible_become_user=u-expected4] 
test/test_backends.py::test_ansible_get_host[kwargs5-host ansible_ssh_common_args="-o LogLevel=FATAL"-expected5] 
[gw3] [ 97%] PASSED test/test_modules.py::test_addr[docker://ubuntu_xenial] 
[gw2] [ 97%] PASSED test/test_backends.py::test_ansible_get_host[kwargs5-host ansible_ssh_common_args="-o LogLevel=FATAL"-expected5] 
test/test_backends.py::test_ansible_get_host[kwargs6-host ansible_ssh_extra_args="-o LogLevel=FATAL"-expected6] 
[gw2] [ 98%] PASSED test/test_backends.py::test_ansible_get_host[kwargs6-host ansible_ssh_extra_args="-o LogLevel=FATAL"-expected6] 
test/test_backends.py::test_ansible_get_host[kwargs7-host ansible_ssh_common_args="-o StrictHostKeyChecking=no" ansible_ssh_extra_args="-o LogLevel=FATAL"-expected7] 
[gw2] [ 98%] PASSED test/test_backends.py::test_ansible_get_host[kwargs7-host ansible_ssh_common_args="-o StrictHostKeyChecking=no" ansible_ssh_extra_args="-o LogLevel=FATAL"-expected7] 
test/test_backends.py::test_ansible_get_host[kwargs8-host ansible_connection=docker-expected8] 
[gw2] [ 99%] PASSED test/test_backends.py::test_ansible_get_host[kwargs8-host ansible_connection=docker-expected8] 
test/test_backends.py::test_ansible_get_host[kwargs9-host ansible_connection=docker ansible_become=yes ansible_become_user=u ansible_user=z ansible_host=container-expected9] 
[gw2] [100%] PASSED test/test_backends.py::test_ansible_get_host[kwargs9-host ansible_connection=docker ansible_become=yes ansible_become_user=u ansible_user=z ansible_host=container-expected9] 

=================================== FAILURES ===================================
_ test_user_connection[ansible://debian_buster?force_ansible=True&sudo=True&sudo_user=user] _
[gw2] darwin -- Python 3.7.3 /Users/daheinze/Source/GitHub/0_Contributions/testinfra/.tox/py37/bin/python

host = <testinfra.host.Host ansible://debian_buster>

    @pytest.mark.testinfra_hosts(*(USER_HOSTS + SUDO_USER_HOSTS))
    def test_user_connection(host):
>       assert host.user().name == "user"
E       AssertionError: assert 'root' == 'user'
E         - user
E         + root

test/test_backends.py:124: AssertionError
______________ test_sudo[ansible://user@debian_buster?sudo=True] _______________
[gw2] darwin -- Python 3.7.3 /Users/daheinze/Source/GitHub/0_Contributions/testinfra/.tox/py37/bin/python

host = <testinfra.host.Host ansible://user@debian_buster>

    @pytest.mark.testinfra_hosts(*SUDO_HOSTS)
    def test_sudo(host):
>       assert host.user().name == "root"
E       AssertionError: assert 'user' == 'root'
E         - root
E         + user

test/test_backends.py:129: AssertionError
__________ test_encoding[ansible://debian_buster?force_ansible=True] ___________
[gw1] darwin -- Python 3.7.3 /Users/daheinze/Source/GitHub/0_Contributions/testinfra/.tox/py37/bin/python

host = <testinfra.host.Host ansible://debian_buster>

    @pytest.mark.testinfra_hosts(*HOSTS)
    def test_encoding(host):
        # buster image is fr_FR@ISO-8859-15
        cmd = host.run("ls -l %s", "/")
        if host.backend.get_connection_type() == "docker":
            # docker bug ?
            assert cmd.stderr_bytes == (
                b"ls: impossible d'acc\xe9der \xe0 '/\xef\xbf\xbd': "
                b"Aucun fichier ou dossier de ce type\n"
            )
        elif (
            host.backend.get_connection_type() == "ansible"
            and host.backend.force_ansible
        ):
            # XXX: this encoding issue comes directly from ansible
            # not sure how to handle this...
>           assert cmd.stderr == (
                "ls: impossible d'accder  '/': "
                "Aucun fichier ou dossier de ce type")
E           AssertionError: assert 'ls: impossib...er de ce type' == 'ls: impossib...er de ce type'
E             - ls: impossible d'accder  '/': Aucun fichier ou dossier de ce type
E             ?                             ^^^
E             + ls: impossible d'accder  '%s': Aucun fichier ou dossier de ce type
E             ?                             ^^

test/test_backends.py:95: AssertionError
____ test_user_connection[ansible://debian_buster?sudo=True&sudo_user=user] ____
[gw1] darwin -- Python 3.7.3 /Users/daheinze/Source/GitHub/0_Contributions/testinfra/.tox/py37/bin/python

host = <testinfra.host.Host ansible://debian_buster>

    @pytest.mark.testinfra_hosts(*(USER_HOSTS + SUDO_USER_HOSTS))
    def test_user_connection(host):
>       assert host.user().name == "user"
E       AssertionError: assert 'root' == 'user'
E         - user
E         + root

test/test_backends.py:124: AssertionError
_____ test_sudo[ansible://user@debian_buster?force_ansible=True&sudo=True] _____
[gw2] darwin -- Python 3.7.3 /Users/daheinze/Source/GitHub/0_Contributions/testinfra/.tox/py37/bin/python

host = <testinfra.host.Host ansible://user@debian_buster>

    @pytest.mark.testinfra_hosts(*SUDO_HOSTS)
    def test_sudo(host):
>       assert host.user().name == "root"
E       AssertionError: assert 'user' == 'root'
E         - root
E         + user

test/test_backends.py:129: AssertionError
___________ test_ansible_module_become[ansible://user@debian_buster] ___________
[gw1] darwin -- Python 3.7.3 /Users/daheinze/Source/GitHub/0_Contributions/testinfra/.tox/py37/bin/python

host = <testinfra.host.Host ansible://user@debian_buster>

                                 "ansible://user@debian_buster")
    def test_ansible_module_become(host):
        user_name = host.user().name
        assert host.ansible('shell', 'echo $USER',
>                           check=False)['stdout'] == user_name
E                           AssertionError: assert '' == 'user'
E                             - user

test/test_modules.py:390: AssertionError
_____________ test_ansible_module_become[ansible://debian_buster] ______________
[gw3] darwin -- Python 3.7.3 /Users/daheinze/Source/GitHub/0_Contributions/testinfra/.tox/py37/bin/python

host = <testinfra.host.Host ansible://debian_buster>

                                 "ansible://user@debian_buster")
    def test_ansible_module_become(host):
        user_name = host.user().name
        assert host.ansible('shell', 'echo $USER',
>                           check=False)['stdout'] == user_name
E                           AssertionError: assert '' == 'root'
E                             - root

test/test_modules.py:390: AssertionError
=============================== warnings summary ===============================
test/test_backends.py::test_backend_importables
  /Users/daheinze/Source/GitHub/0_Contributions/testinfra/.tox/py37/lib/python3.7/site-packages/jinja2/utils.py:485: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working
    from collections import MutableMapping

test/test_backends.py::test_backend_importables
  /Users/daheinze/Source/GitHub/0_Contributions/testinfra/.tox/py37/lib/python3.7/site-packages/jinja2/runtime.py:318: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working
    from collections import Mapping

-- Docs: https://docs.pytest.org/en/stable/warnings.html

---------- coverage: platform darwin, python 3.7.3-final-0 -----------
Name                                Stmts   Miss  Cover
-------------------------------------------------------
testinfra/__init__.py                   3      3     0%
testinfra/backend/__init__.py          59     13    78%
testinfra/backend/ansible.py           33      0   100%
testinfra/backend/base.py             158      6    96%
testinfra/backend/docker.py            13      0   100%
testinfra/backend/kubectl.py           30     19    37%
testinfra/backend/local.py             14      2    86%
testinfra/backend/lxc.py               11      6    45%
testinfra/backend/openshift.py         26     16    38%
testinfra/backend/paramiko.py          81     22    73%
testinfra/backend/podman.py            13      8    38%
testinfra/backend/salt.py              37     26    30%
testinfra/backend/ssh.py               61      1    98%
testinfra/backend/winrm.py             40     24    40%
testinfra/host.py                      63     24    62%
testinfra/main.py                       5      5     0%
testinfra/modules/__init__.py           7      3    57%
testinfra/modules/addr.py              33      1    97%
testinfra/modules/ansible.py           25      1    96%
testinfra/modules/base.py              11      0   100%
testinfra/modules/blockdevice.py       47     47     0%
testinfra/modules/command.py            8      8     0%
testinfra/modules/docker.py            31     31     0%
testinfra/modules/environment.py        7      1    86%
testinfra/modules/file.py             121     36    70%
testinfra/modules/group.py             11      1    91%
testinfra/modules/interface.py         52     52     0%
testinfra/modules/iptables.py          34      4    88%
testinfra/modules/mountpoint.py        51     11    78%
testinfra/modules/package.py           96     24    75%
testinfra/modules/pip.py               39     20    49%
testinfra/modules/podman.py            31     31     0%
testinfra/modules/process.py           97      8    92%
testinfra/modules/puppet.py            33      2    94%
testinfra/modules/salt.py              21      4    81%
testinfra/modules/service.py           99     44    56%
testinfra/modules/socket.py           191     98    49%
testinfra/modules/sudo.py              16      1    94%
testinfra/modules/supervisor.py        42      2    95%
testinfra/modules/sysctl.py            13      1    92%
testinfra/modules/systeminfo.py        92     44    52%
testinfra/modules/user.py              93     32    66%
testinfra/plugin.py                    93     42    55%
testinfra/utils/__init__.py             9      1    89%
testinfra/utils/ansible_runner.py     186     12    94%
-------------------------------------------------------
TOTAL                                2236    737    67%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test/test_backends.py::test_user_connection[ansible://debian_buster?force_ansible=True&sudo=True&sudo_user=user]
FAILED test/test_backends.py::test_sudo[ansible://user@debian_buster?sudo=True]
FAILED test/test_backends.py::test_encoding[ansible://debian_buster?force_ansible=True]
FAILED test/test_backends.py::test_user_connection[ansible://debian_buster?sudo=True&sudo_user=user]
FAILED test/test_backends.py::test_sudo[ansible://user@debian_buster?force_ansible=True&sudo=True]
FAILED test/test_modules.py::test_ansible_module_become[ansible://user@debian_buster]
FAILED test/test_modules.py::test_ansible_module_become[ansible://debian_buster]
============ 7 failed, 174 passed, 2 warnings in 166.34s (0:02:46) =============
Coverage.py warning: Data file '/Users/daheinze/Source/GitHub/0_Contributions/testinfra/.coverage.Starlord.17284.725430' doesn't seem to be a coverage data file: cannot unpack non-iterable NoneType object
ERROR: InvocationError for command /Users/daheinze/Source/GitHub/0_Contributions/testinfra/.tox/py37/bin/python -m pytest -v -n 4 --cov testinfra --cov-report xml --cov-report term test (exited with code 1)
___________________________________ summary ____________________________________
ERROR:   py37: commands failed
